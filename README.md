# KICE ì‹œìŠ¤í…œ&ì†”ë£¨ì…˜ê°œë°œ ì‹¤ê¸°í˜• ë¬¸ì œì§€
## [2025ë…„ ì •ê·œ ì°¨ìˆ˜]

---

## HTTP ê¸°ë°˜ ë¡œê·¸ ë¶„ì„ ì„œë¹„ìŠ¤

### ê°œìš”

**í•´ë‹¹ ì‹œìŠ¤í…œ êµ¬í˜„ì„ í†µí•´ ìš”êµ¬ì‚¬í•­ ë¶„ì„, íŒŒì¼ ì²˜ë¦¬, ë©€í‹°ìŠ¤ë ˆë“œ í”„ë¡œê·¸ë˜ë°, HTTP Server/Client êµ¬í˜„, ë¡œë“œë°¸ëŸ°ì‹± ë“±ì˜ ê¸°ìˆ ì—­ëŸ‰ ë° í”„ë¡œê·¸ë¨ êµ¬í˜„ ì—­ëŸ‰ì„ ì¸¡ì •í•˜ê¸° ìœ„í•œ ë¬¸ì œì…ë‹ˆë‹¤.**

ë³¸ í”„ë¡œê·¸ë¨ì€ ë¡œê·¸ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ê³  ë¶„ì„í•œ í›„, **HTTP API**ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” **HTTP ê¸°ë°˜ ë¡œê·¸ ë¶„ì„ ì„œë¹„ìŠ¤**ì…ë‹ˆë‹¤.

### ê¸°ëŠ¥ ìš”ì•½
- ë¡œê·¸ íŒŒì¼ì„ ì½ì–´ **íŒ¨í„´ íŒŒì‹±** ë° **í†µê³„ ë¶„ì„**ì„ ìˆ˜í–‰í•œë‹¤.
- **ë©€í‹°ìŠ¤ë ˆë“œ**ë¥¼ í™œìš©í•œ **ë³‘ë ¬ ì²˜ë¦¬**ë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚´ë‹¤.
- **HTTP ì„œë²„**ë¥¼ êµ¬ì¶•í•˜ì—¬ **REST API** ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
- **ë¡œë“œë°¸ëŸ°ì„œ**ë¥¼ í†µí•œ ìš”ì²­ ë¶„ì‚° ì²˜ë¦¬ë¡œ **í™•ì¥ì„±**ì„ í™•ë³´í•œë‹¤.

### ì£¼ì˜ì‚¬í•­

ì‹¤í–‰ ê²°ê³¼ë¡œ í‰ê°€í•˜ê³  ë¶€ë¶„ì ìˆ˜ëŠ” ì—†ìœ¼ë¯€ë¡œ ì•„ë˜ì‚¬í•­ì„ í•„íˆ ì£¼ì˜í•´ì•¼ í•¨

- êµ¬í˜„ëœ í”„ë¡œê·¸ë¨ì€ ì‹¤í–‰ ì™„ê²°ì„± í•„ìˆ˜ (ëª…í™•í•œ ì‹¤í–‰&ì •í™•í•œ ê²°ê³¼ ì¶œë ¥, í†µìƒì˜ ì‹¤í–‰ ì‹œê°„)
- ì†Œ ë¬¸í•­ë³„ ê²°ê³¼ ê²€ìˆ˜ í•„ìˆ˜ (ì„ í–‰ë¬¸í•­ ì˜¤ë¥˜ ì‹œ, í›„ì†ë¬¸í•­ ì „ì²´ì— ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ)
- ì œì‹œëœ ì¡°ê±´ì´ ì—†ëŠ” í•œ ì„ í–‰ìš”êµ¬ì‚¬í•­ ìœ ì§€ í•„ìˆ˜
- í”„ë¡œê·¸ë¨ ì‹¤í–‰ ìœ„ì¹˜ ë° ì‹¤í–‰ê²°ê³¼ì¶œë ¥ (ìœ„ì¹˜, íŒŒì¼ëª…, ë°ì´í„°í¬ë§·)ì€ ìš”êµ¬ì‚¬í•­ê³¼ ì •í™•íˆ ì¼ì¹˜ í•„ìˆ˜
- ì œì‹œëœ ëª¨ë“  ìœ„ì¹˜ëŠ” ìƒëŒ€ê²½ë¡œ ì‚¬ìš© í•„ìˆ˜ (í”„ë¡œê·¸ë¨ ì‹¤í–‰ ìœ„ì¹˜ ê¸°ì¤€)
- í”„ë¡œê·¸ë¨ ì¢…ë£Œì¡°ê±´ì— ë§ëŠ” ì²˜ë¦¬ í•„ìˆ˜
- ì œê³µë˜ëŠ” ìƒ˜í”Œ íŒŒì¼ê³¼ ë‹¤ë¥¸ ë°ì´í„°ë¡œ ì±„ì í•˜ë¯€ë¡œ ì œê³µë˜ëŠ” íŒŒì¼ì˜ ë‚´ìš©ì„ í•˜ë“œì½”ë”©í•˜ì§€ ë§ ê²ƒ
- ëª¨ë“  ë¬¸ìëŠ” ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ í•„ìˆ˜

---

## ë¬¸ì œ

ì•„ë˜ ì œì‹œëœ ë¬¸í•­ì€ ë¬¸í•­ë²ˆí˜¸ê°€ ì¦ê°€í• ìˆ˜ë¡ ì ì§„ì  ê°œì„ ì„ ìš”êµ¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì œì‹œëœ ë¬¸í•­ë²ˆí˜¸ ë³„ë¡œ ê°ê° êµ¬í˜„ëœ ì†ŒìŠ¤ì™€ ì»´íŒŒì¼ ëœ ì‹¤í–‰íŒŒì¼ì„ ì œì¶œí•˜ì‹œì˜¤.

### ë¬¸ì œ 1. ë¡œê·¸ íŒŒì¼ íŒŒì‹± ë° ê¸°ë³¸ í†µê³„ ë¶„ì„ (25ì )

ì½˜ì†” ì…ë ¥ì„ í†µí•´ì„œ **ë¡œê·¸ íŒŒì¼ ê²½ë¡œ**ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ë¡œê·¸ íŒŒì¼ì„ ì½ì–´ì™€ **ë¡œê·¸ íŒ¨í„´ íŒŒì‹±**ì„ ìˆ˜í–‰í•˜ê³  **ê¸°ë³¸ í†µê³„**ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.

#### ìƒì„¸ì„¤ëª…

**â€» ë¡œê·¸ íŒ¨í„´ íŒŒì‹±**
- ë¡œê·¸ íŒŒì¼ì˜ ê° ë¼ì¸ì„ ë‹¤ìŒ íŒ¨í„´ìœ¼ë¡œ íŒŒì‹±: `[timestamp] level method message`
- ì •ê·œí‘œí˜„ì‹ ì‚¬ìš©: `\\[(\\d{4}-\\d{2}-\\d{2} (\\d{2}):\\d{2}:\\d{2})\\] ([A-Z]+) (\\w+).*`
- ì˜ˆì‹œ: `[2024-12-30 14:23:45] ERROR UserService Login failed for user: admin`

**â€» ê¸°ë³¸ í†µê³„**
- ë¡œê·¸ ë ˆë²¨ë³„ ê°œìˆ˜ (INFO, WARN, ERROR, DEBUG)
- ê°€ì¥ ë§ì´ í˜¸ì¶œëœ ë©”ì„œë“œ TOP 3
- ì‹œê°„ëŒ€ë³„ ë¡œê·¸ ë¶„í¬ (ì‹œê°„ëŒ€: 00~23ì‹œ)

#### í˜•ì‹ì •ë³´

**â€» ì½˜ì†” ì…/ì¶œë ¥**
- ì…ë ¥ í¬ë§·: `<ë¡œê·¸ íŒŒì¼ ê²½ë¡œ>`
- ì¶œë ¥ í¬ë§·:
```
=== Log Analysis Result ===
Log Level Statistics:
INFO: 9
ERROR: 4
WARN: 4
DEBUG: 3

Top 3 Methods:
1. UserService: 6
2. OrderService: 5
3. PaymentService: 5

Hourly Distribution:
08: 4, 09: 4, 10: 4, 11: 3, 12: 3, 13: 2
```

**â€» ë¡œê·¸ íŒŒì¼ í˜•ì‹ì •ë³´**
- íŒŒì¼ëª…: LOG_DATA.TXT (ê° ì†Œë¬¸í•­ í™ˆ ì•„ë˜)
- íŒŒì¼ í˜•ì‹: `[YYYY-MM-DD HH:mm:ss] <LEVEL> <METHOD> <MESSAGE>`

#### í‰ê°€ëŒ€ìƒ
í”„ë¡œê·¸ë¨ ì •ìƒ ì‹¤í–‰, ì½˜ì†” ì…/ì¶œë ¥ ê²°ê³¼, í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì—†ìŒ

---

### ë¬¸ì œ 2. ë©€í‹°ìŠ¤ë ˆë“œ ë¶„ì‚° ì²˜ë¦¬ + JSON íŒŒì¼ ì¶œë ¥ (35ì )

ìœ„ 1ë²ˆ ë¬¸í•­ê¹Œì§€ êµ¬í˜„ëœ ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ, ì•„ë˜ ì‚¬í•­ì„ ì¶”ê°€ë¡œ ë°˜ì˜í•˜ì—¬ êµ¬í˜„í•˜ì‹œì˜¤.

- **WorkerPolicy.json** íŒŒì¼ì— ì •ì˜ëœ ì›Œì»¤ ì •ì±…ì— ë”°ë¼ **ë©€í‹°ìŠ¤ë ˆë“œë¡œ ë¶„ì‚° ì²˜ë¦¬**
- ê° ì›Œì»¤ë³„ ì²˜ë¦¬ ê²°ê³¼ë¥¼ **JSON íŒŒì¼ë¡œ ì¶œë ¥**
- **ì „ì²´ í†µí•© ê²°ê³¼**ë¥¼ ì½˜ì†”ì— ì¶œë ¥

#### ìƒì„¸ì„¤ëª…

**â€» ì›Œì»¤ ì •ì±…**
```json
{
  "workers": [
    {
      "id": "LogWorker1",
      "thread_count": 2,
      "processing_ratio": 40
    },
    {
      "id": "LogWorker2", 
      "thread_count": 3,
      "processing_ratio": 60
    }
  ]
}
```

**â€» ë¶„ì‚° ì²˜ë¦¬ ë¡œì§**
- ì „ì²´ ë¡œê·¸ë¥¼ `processing_ratio` ë¹„ìœ¨ì— ë”°ë¼ ê° ì›Œì»¤ì—ê²Œ ë¶„í•  í• ë‹¹
- ê° ì›Œì»¤ëŠ” `CompletableFuture`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ë³‘ë ¬ ì²˜ë¦¬
- ëª¨ë“  ì›Œì»¤ì˜ ì²˜ë¦¬ê°€ ì™„ë£Œëœ í›„ ê²°ê³¼ í†µí•©

**â€» JSON íŒŒì¼ ì¶œë ¥**
- ê° ì›Œì»¤ë³„ ê²°ê³¼ íŒŒì¼: `RESULT_<WorkerID>.json` (ì˜ˆ: `RESULT_LogWorker1.json`)
- íŒŒì¼ í˜•ì‹:
```json
{
  "worker_id": "LogWorker1",
  "processed_lines": 8,
  "log_levels": {
    "ERROR": 2,
    "INFO": 3,
    "DEBUG": 1,
    "WARN": 2
  },
  "processing_time_ms": 48
}
```

#### í‰ê°€ëŒ€ìƒ
í”„ë¡œê·¸ë¨ ì •ìƒ ì‹¤í–‰, ë©€í‹°ìŠ¤ë ˆë“œ ì²˜ë¦¬, JSON íŒŒì¼ ì¶œë ¥, ì½˜ì†” í†µí•© ê²°ê³¼, í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì—†ìŒ

---

### ë¬¸ì œ 3. HTTP API ì„œë²„ + Round-Robin ë¡œë“œë°¸ëŸ°ì„œ (40ì )

ìœ„ 2ë²ˆ ë¬¸í•­ê¹Œì§€ êµ¬í˜„ëœ ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ, ì•„ë˜ ì‚¬í•­ì„ ì¶”ê°€ë¡œ ë°˜ì˜í•˜ì—¬ **HTTP ê¸°ë°˜ ë¡œê·¸ ë¶„ì„ API ì„œë²„**ë¥¼ êµ¬í˜„í•˜ì‹œì˜¤.

- **HTTP Server**ë¡œ ë¡œê·¸ ë¶„ì„ ìš”ì²­ì„ ìˆ˜ì‹ í•˜ê³  **JSON**ìœ¼ë¡œ ê²°ê³¼ ì‘ë‹µ
- **Round-Robin ë¡œë“œë°¸ëŸ°ì„œ**ë¥¼ êµ¬í˜„í•˜ì—¬ ì—¬ëŸ¬ ë¶„ì„ ì„œë²„ì— ìš”ì²­ ë¶„ì‚°
- **Jetty** ê¸°ë°˜ HTTP ì„œë²„/í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„

#### ìƒì„¸ì„¤ëª…

**â€» HTTP API ì„œë²„**
- í¬íŠ¸: **8080**
- Endpoint: `POST /analyze`
- **Jetty Embedded Server** ì‚¬ìš©

**â€» HTTP ìš”ì²­ í˜•ì‹**
```json
{
  "request_id": "req_001",
  "log_file": "LOG_DATA.TXT",
  "worker_count": 2
}
```

**â€» HTTP ì‘ë‹µ í˜•ì‹**  
```json
{
  "request_id": "req_001",
  "status": "success",
  "analysis_result": {
    "log_levels": {
      "INFO": 9,
      "ERROR": 4,
      "WARN": 4,
      "DEBUG": 3
    },
    "top_methods": [
      "UserService: 6",
      "OrderService: 5", 
      "PaymentService: 5"
    ],
    "hourly_distribution": {
      "08": 4, "09": 4, "10": 4, "11": 3, "12": 3, "13": 2
    }
  },
  "processing_time_ms": 1250
}
```

**â€» Round-Robin ë¡œë“œë°¸ëŸ°ì„œ**
- `LoadBalancer.json` íŒŒì¼ì—ì„œ ë¶„ì„ ì„œë²„ ëª©ë¡ ë¡œë“œ
- **Round-Robin** ë°©ì‹ìœ¼ë¡œ ìš”ì²­ì„ ê° ì„œë²„ì— ìˆœì°¨ ë¶„ë°°
- `active: true`ì¸ ì„œë²„ë§Œ ì‚¬ìš©
- ì„œë²„ ì¥ì•  ì‹œ ë‹¤ìŒ ì„œë²„ë¡œ ìë™ ì „í™˜

**â€» LoadBalancer.json í˜•ì‹**
```json
{
  "servers": [
    {
      "id": "AnalysisServer1",
      "url": "http://localhost:9001/process",
      "active": true
    },
    {
      "id": "AnalysisServer2",
      "url": "http://localhost:9002/process", 
      "active": true
    },
    {
      "id": "AnalysisServer3",
      "url": "http://localhost:9003/process",
      "active": false
    }
  ]
}
```

**â€» ë‚´ë¶€ ì„œë²„ í†µì‹  (Jetty HttpClient ì‚¬ìš©)**
- ë¡œë“œë°¸ëŸ°ì„œê°€ ì„ íƒí•œ ì„œë²„ë¡œ HTTP POST ìš”ì²­ ì „ì†¡
- ìš”ì²­ í˜•ì‹:
```json
{
  "log_data": "ë¡œê·¸ íŒŒì¼ ì „ì²´ ë‚´ìš©",
  "analysis_type": "full"
}
```

- ì‘ë‹µ í˜•ì‹:
```json
{
  "result": {
    "log_levels": {...},
    "top_methods": [...],
    "hourly_distribution": {...}
  },
  "server_id": "AnalysisServer1",
  "processing_time": 1200
}
```

#### í‰ê°€ëŒ€ìƒ
í”„ë¡œê·¸ë¨ ì •ìƒ ì‹¤í–‰, HTTP ì„œë²„ êµ¬ë™ (8080í¬íŠ¸), JSON ìš”ì²­/ì‘ë‹µ, Round-Robin ë¡œë“œë°¸ëŸ°ì‹±, í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì—†ìŒ

---

## êµ¬í˜„ ê°€ì´ë“œ

### í•„ìˆ˜ ê¸°ìˆ  ìŠ¤íƒ

1. **íŒŒì¼ ì²˜ë¦¬**: ë¡œê·¸ íŒŒì¼ íŒŒì‹±, JSON íŒŒì¼ ì½ê¸°/ì“°ê¸°
2. **ì •ê·œí‘œí˜„ì‹**: ë¡œê·¸ íŒ¨í„´ ë§¤ì¹­
3. **ë©€í‹°ìŠ¤ë ˆë“œ**: `CompletableFuture`ë¥¼ í™œìš©í•œ ë³‘ë ¬ ì²˜ë¦¬
4. **HTTP ì„œë²„**: **Jetty Embedded Server** êµ¬í˜„
5. **HTTP í´ë¼ì´ì–¸íŠ¸**: **Jetty HttpClient** êµ¬í˜„
6. **ë¡œë“œë°¸ëŸ°ì‹±**: **Round-Robin** ì•Œê³ ë¦¬ì¦˜
7. **JSON ì²˜ë¦¬**: **Gson** ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©

### ì œê³µ íŒŒì¼ êµ¬ì¡°
```
SP_TEST1/
â”œâ”€â”€ LOG_DATA.TXT
â”œâ”€â”€ COMPARE/
â”‚   â””â”€â”€ CMP_CONSOLE.TXT
â””â”€â”€ src/
    â””â”€â”€ SP_TEST.java

SP_TEST2/
â”œâ”€â”€ LOG_DATA.TXT
â”œâ”€â”€ WorkerPolicy.json
â”œâ”€â”€ COMPARE/
â”‚   â””â”€â”€ CMP_CONSOLE.TXT
â””â”€â”€ src/
    â””â”€â”€ SP_TEST.java

SP_TEST3/
â”œâ”€â”€ LOG_DATA.TXT
â”œâ”€â”€ LoadBalancer.json
â”œâ”€â”€ MOCK_CLIENT.EXE
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ gson-2.10.1.jar
â”‚   â”œâ”€â”€ jetty-server-9.4.53.v20231009.jar
â”‚   â”œâ”€â”€ jetty-client-9.4.53.v20231009.jar
â”‚   â”œâ”€â”€ jetty-servlet-9.4.53.v20231009.jar
â”‚   â”œâ”€â”€ jetty-http-9.4.53.v20231009.jar
â”‚   â”œâ”€â”€ jetty-io-9.4.53.v20231009.jar
â”‚   â”œâ”€â”€ jetty-util-9.4.53.v20231009.jar
â”‚   â””â”€â”€ javax.servlet-api-3.1.0.jar
â””â”€â”€ src/
    â””â”€â”€ SP_TEST.java
```

### ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

**ë¬¸í•­ 1, 2:**
```bash
# SP_TEST ì‹¤í–‰
C:\>SP_TEST
LOG_DATA.TXT         # ì½˜ì†” ì…ë ¥
=== Log Analysis Result ===  # ê²°ê³¼ ì¶œë ¥
...
```

**ë¬¸í•­ 3:**
```bash
# 1. SP_TEST ì‹¤í–‰ (HTTP ì„œë²„ êµ¬ë™)
C:\>SP_TEST
ğŸš€ HTTP Server starting on port 8080...
âœ… Server is running! Ready for requests.

# 2. HTTP ìš”ì²­ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8080/analyze \
  -H "Content-Type: application/json" \
  -d '{"request_id":"test_001","log_file":"LOG_DATA.TXT","worker_count":2}'

# 3. MOCK_CLIENT.EXEë¡œ ìë™ í…ŒìŠ¤íŠ¸
C:\>MOCK_CLIENT.EXE
í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...
âœ… HTTP ì„œë²„ ì—°ê²° ì„±ê³µ
âœ… JSON ìš”ì²­/ì‘ë‹µ í™•ì¸
âœ… ë¡œë“œë°¸ëŸ°ì„œ ë™ì‘ í™•ì¸
ëª¨ë“  í…ŒìŠ¤íŠ¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!
```

---

## í•µì‹¬ êµ¬í˜„ íŒ¨í„´

### 1. HTTP ì„œë²„ êµ¬ì¶• (Jetty)
```java
public static void main(String[] args) throws Exception {
    Server server = new Server(8080);
    ServletHandler handler = new ServletHandler();
    handler.addServletWithMapping(AnalysisServlet.class, "/analyze");
    server.setHandler(handler);
    
    System.out.println("ğŸš€ HTTP Server starting on port 8080...");
    server.start();
    System.out.println("âœ… Server is running! Ready for requests.");
    server.join();
}
```

### 2. Round-Robin ë¡œë“œë°¸ëŸ°ì„œ
```java
public class LoadBalancer {
    private List<ServerInfo> activeServers = new ArrayList<>();
    private int currentIndex = 0;
    
    public ServerInfo getNextServer() {
        if (activeServers.isEmpty()) return null;
        
        ServerInfo server = activeServers.get(currentIndex);
        currentIndex = (currentIndex + 1) % activeServers.size();
        return server;
    }
    
    public void loadServers(String configPath) {
        // LoadBalancer.json íŒŒì¼ ì½ì–´ì„œ active=trueì¸ ì„œë²„ë§Œ ì¶”ê°€
    }
}
```

### 3. HTTP ì„œë¸”ë¦¿ êµ¬í˜„
```java
public class AnalysisServlet extends HttpServlet {
    private LoadBalancer loadBalancer = new LoadBalancer();
    
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) 
        throws IOException {
        
        // 1. JSON ìš”ì²­ íŒŒì‹±
        Gson gson = new Gson();
        AnalysisRequest request = gson.fromJson(
            new InputStreamReader(req.getInputStream()), 
            AnalysisRequest.class
        );
        
        // 2. ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì„œë²„ ì„ íƒ
        ServerInfo server = loadBalancer.getNextServer();
        
        // 3. ë‚´ë¶€ ì„œë²„ë¡œ HTTP ìš”ì²­
        String result = callInternalServer(server, request);
        
        // 4. JSON ì‘ë‹µ
        resp.setContentType("application/json; charset=utf-8");
        resp.getWriter().write(result);
    }
}
```

### 4. HTTP í´ë¼ì´ì–¸íŠ¸ (Jetty)
```java
private String callInternalServer(ServerInfo server, AnalysisRequest request) {
    HttpClient client = new HttpClient();
    try {
        client.start();
        
        String jsonData = gson.toJson(createInternalRequest(request));
        ContentResponse response = client.POST(server.getUrl())
            .header(HttpHeader.CONTENT_TYPE, "application/json")
            .content(new StringContentProvider(jsonData))
            .send();
            
        return response.getContentAsString();
        
    } catch (Exception e) {
        // ë‹¤ìŒ ì„œë²„ë¡œ ìë™ ì „í™˜
        return tryNextServer(request);
    } finally {
        try { client.stop(); } catch (Exception e) {}
    }
}
```

### 5. ë©€í‹°ìŠ¤ë ˆë“œ ì²˜ë¦¬
```java
List<CompletableFuture<WorkerResult>> futures = new ArrayList<>();

for (WorkerPolicy worker : workers) {
    CompletableFuture<WorkerResult> future = CompletableFuture.supplyAsync(() -> {
        // ì›Œì»¤ë³„ ë¡œê·¸ ë¶„ì„ ìˆ˜í–‰
        return processLogData(worker, logLines);
    });
    futures.add(future);
}

// ëª¨ë“  ì›Œì»¤ ì™„ë£Œ ëŒ€ê¸°
CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();
```

---

## í‰ê°€ ê¸°ì¤€

- **ê¸°ëŠ¥ ì™„ì„±ë„** (50%): ìš”êµ¬ì‚¬í•­ì— ë”°ë¥¸ ì •í™•í•œ êµ¬í˜„
- **HTTP í†µì‹ ** (25%): REST API ì„œë²„/í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- **ë¡œë“œë°¸ëŸ°ì‹±** (15%): Round-Robin ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- **ì½”ë“œ í’ˆì§ˆ** (10%): ì˜ˆì™¸ ì²˜ë¦¬, ê°€ë…ì„±

---

## ì£¼ìš” í•™ìŠµ ëª©í‘œ

âœ… **íŒŒì¼ ì²˜ë¦¬ ë° ì •ê·œí‘œí˜„ì‹** í™œìš©  
âœ… **ë©€í‹°ìŠ¤ë ˆë“œ** ë³‘ë ¬ ì²˜ë¦¬ êµ¬í˜„  
âœ… **Jetty** ê¸°ë°˜ HTTP ì„œë²„/í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„  
âœ… **Round-Robin** ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜  
âœ… **REST API** ì„¤ê³„ ë° JSON ì²˜ë¦¬  
âœ… **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜** ì„¤ê³„ ëŠ¥ë ¥  

*ë³¸ ì‹œí—˜ì€ ì‹¤ë¬´ í™˜ê²½ì—ì„œ ìš”êµ¬ë˜ëŠ” HTTP ì„œë¹„ìŠ¤ ê°œë°œ ë° ë¶„ì‚° ì‹œìŠ¤í…œ ì—­ëŸ‰ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.*
